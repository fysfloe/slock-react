import React, { Component } from 'react'
import { withLeadingZero, getDisplayQuarters } from './Helpers'

export default class ClockImage extends Component {
  render() {
    let hour = this.props.time.hour > 12 ? this.props.time.hour - 12 : this.props.time.hour
    let renderHour = (this.props.difficulty == 0 || (this.props.difficulty == 1 && this.props.step > 5) || this.props.finished) ? withLeadingZero(hour) : '??'
    let renderMinutes
    if(this.props.difficulty == 0 || (this.props.difficulty == 1 && this.props.step <= 5) || this.props.finished) {
      if(this.props.minuteMode === 'minutes') {
        renderMinutes = withLeadingZero(this.props.time.minutes)
      } else if(this.props.minuteMode === 'quarters') {
        renderMinutes = getDisplayQuarters(this.props.time.minutes)
      }
    } else {
      renderMinutes = '??'
    }

    let hideClockHands = (this.props.difficulty > 0 && !this.props.finished) ? 'hide-clock-hands' : ''

    let col = this.props.difficulty > 0 ? 'col-8' : 'col'

    if(this.props.isDescription) {
      col = ''
    }

    return (
      <div className={`clock-image ${col}`}>
        <div className="clock-time">
          <span className="hour">{renderHour}</span>
          :
          <span className="minutes">{renderMinutes}</span>
        </div>
        <svg className={hideClockHands} version="1.1" id="Ebene_1" x="0px" y="0px" width="640px" height="640px" viewBox="0 0 640 640" enableBackground="new 0 0 640 640">
          <circle id="clock-face-bg" fill="#FFFFFF" cx="320" cy="320" r="290"/>
          <path d="M320,8.6C148,8.6,8.6,148,8.6,320S148,631.4,320,631.4S631.4,492,631.4,320S492,8.6,320,8.6z M606.9,326
            c-0.2,7.4-0.6,14.8-1.3,22l-20.9-2.2l-0.4,4l20.9,2.2c-1,8.7-2.3,17.3-4,25.7l-20.6-4.4l-0.8,3.9l20.6,4.4
            c-1.9,8.5-4.1,16.9-6.7,25.2l-20-6.5l-1.2,3.8l20,6.5c-2.8,8.3-5.9,16.4-9.3,24.3l-19.2-8.6l-1.6,3.6l19.2,8.6
            c-3,6.7-6.3,13.3-9.9,19.7l-39.8-23l-6,10.4l39.8,23c-3.8,6.3-7.9,12.4-12.2,18.4l-17-12.3L534,478l17,12.4
            c-5.2,7-10.6,13.7-16.4,20.2l-15.6-14l-2.7,3l15.6,14c-5.9,6.4-12,12.6-18.4,18.4l-14-15.6l-3,2.7l14,15.6
            c-6.5,5.8-13.2,11.2-20.2,16.4L478,534l-3.2,2.3l12.3,17c-6,4.3-12.1,8.4-18.4,12.2l-23-39.8l-10.4,6l23,39.8
            c-6.4,3.5-13,6.8-19.7,9.9l-8.6-19.2l-3.6,1.6l8.6,19.2c-7.9,3.5-16,6.6-24.3,9.3l-6.5-20l-3.8,1.2l6.5,20
            c-8.2,2.6-16.6,4.9-25.2,6.7l-4.4-20.6l-3.9,0.8l4.4,20.6c-8.5,1.7-17,3.1-25.7,4l-2.2-20.9l-4,0.4l2.2,20.9
            c-7.3,0.7-14.6,1.1-22,1.3V561h-12l0,45.9c-7.4-0.2-14.8-0.6-22-1.3l2.2-20.9l-4-0.4l-2.2,20.9c-8.7-1-17.3-2.3-25.7-4l4.4-20.6
            l-3.9-0.8l-4.4,20.6c-8.5-1.9-16.9-4.1-25.2-6.7l6.5-20l-3.8-1.2l-6.5,20c-8.3-2.8-16.4-5.9-24.3-9.3l8.6-19.2l-3.6-1.6l-8.6,19.2
            c-6.7-3-13.3-6.3-19.7-9.9l23-39.8l-10.4-6l-23,39.8c-6.3-3.8-12.4-7.9-18.4-12.2l12.3-17L162,534l-12.4,17
            c-7-5.2-13.7-10.6-20.2-16.4l14-15.6l-3-2.7l-14,15.6c-6.4-5.9-12.6-12-18.4-18.4l15.6-14l-2.7-3l-15.6,14
            c-5.8-6.5-11.2-13.2-16.4-20.2l17-12.4l-2.3-3.2l-17,12.3c-4.3-6-8.4-12.1-12.2-18.4l39.8-23l-6-10.4l-39.8,23
            c-3.5-6.4-6.8-13-9.9-19.7l19.2-8.6l-1.6-3.6L57,434.9c-3.5-7.9-6.6-16-9.3-24.3l20-6.5l-1.2-3.8l-20,6.5
            c-2.6-8.2-4.9-16.6-6.7-25.2l20.6-4.4l-0.8-3.9l-20.6,4.4c-1.7-8.4-3.1-17-4-25.7l20.9-2.2l-0.4-4L34.4,348
            c-0.7-7.3-1.1-14.6-1.3-22H79v-12H33.1c0.2-7.4,0.6-14.8,1.3-22l20.9,2.2l0.4-4L34.8,288c1-8.7,2.3-17.3,4-25.7l20.6,4.4l0.8-3.9
            l-20.6-4.4c1.9-8.5,4.1-16.9,6.7-25.2l20,6.5l1.2-3.8l-20-6.5c2.8-8.3,5.9-16.4,9.3-24.3l19.2,8.6l1.6-3.7l-19.2-8.6
            c3-6.7,6.3-13.3,9.9-19.7l39.8,23l6-10.4l-39.8-23c3.8-6.3,7.9-12.4,12.2-18.4l17,12.3l2.3-3.2l-17-12.3c5.2-7,10.6-13.7,16.4-20.2
            l15.6,14l2.7-3l-15.6-14c5.9-6.4,12-12.6,18.4-18.4l14,15.6l3-2.7l-14-15.6c6.5-5.8,13.2-11.2,20.2-16.4l12.3,17l3.2-2.4l-12.3-17
            c6-4.3,12.1-8.4,18.4-12.2l23,39.8l10.4-6l-23-39.8c6.4-3.5,13-6.8,19.7-9.9l8.6,19.2l3.7-1.6L205.1,57c7.9-3.5,16-6.6,24.3-9.3
            l6.5,20l3.8-1.2l-6.5-20c8.2-2.6,16.6-4.9,25.2-6.7l4.4,20.6l3.9-0.8l-4.4-20.6c8.4-1.7,17-3.1,25.7-4l2.2,20.9l4-0.4L292,34.4
            c7.3-0.7,14.6-1.1,22-1.3V79h12V33.1c7.4,0.2,14.8,0.6,22,1.3l-2.2,20.9l4,0.4l2.2-20.9c8.7,1,17.3,2.3,25.7,4l-4.4,20.6l3.9,0.8
            l4.4-20.6c8.5,1.9,16.9,4.1,25.2,6.7l-6.5,20l3.8,1.2l6.5-20c8.3,2.8,16.4,5.9,24.3,9.3l-8.6,19.2l3.6,1.6l8.6-19.2
            c6.7,3.1,13.3,6.3,19.7,9.9l-23,39.8l10.4,6l23-39.8c6.3,3.8,12.4,7.9,18.4,12.2l-12.3,17l3.2,2.3l12.3-17
            c7,5.2,13.7,10.6,20.2,16.4l-14,15.6l3,2.7l14-15.6c6.4,5.9,12.6,12,18.4,18.4l-15.6,14l2.7,3l15.6-14c5.8,6.5,11.2,13.2,16.4,20.2
            L534,162l2.3,3.2l17-12.3c4.3,6,8.4,12.1,12.2,18.4l-39.8,23l6,10.4l39.8-23c3.5,6.4,6.8,13,9.9,19.7l-19.2,8.6l1.6,3.6l19.2-8.6
            c3.5,7.9,6.6,16,9.3,24.3l-20,6.5l1.2,3.8l20-6.5c2.6,8.2,4.9,16.6,6.7,25.2l-20.6,4.4l0.8,3.9l20.6-4.4c1.7,8.5,3.1,17,4,25.7
            l-20.9,2.2l0.4,4l20.9-2.2c0.7,7.3,1.1,14.6,1.3,22H561v12H606.9z"/>
          <circle cx="320" cy="320" r="12"/>
          <path className="clock-hand" id="clock-minute-hand" style={{transform: 'rotateZ('+ this.props.time.minutes * 6 +'deg)'}} d="M310.7,320c-9.5-9.5,9.3-231,9.3-231s18.9,221.4,9.3,231H310.7z"/>
          <path className="clock-hand" id="clock-hour-hand" style={{transform: 'rotateZ(' + ((this.props.time.hour * 30) + (this.props.time.minutes / 10 * 5)) + 'deg)'}} d="M310.7,321c-9.5-6,9.3-152.4,9.3-152.4S338.9,315,329.3,321H310.7z"/>
        </svg>
      </div>
    )
  }
}
